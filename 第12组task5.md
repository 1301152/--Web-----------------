基于web的高校社团信息发布系统应用架构

引言

1.1 web应用概况

   高校社团信息发布系统，类似于一个专题的电子布告栏系统，就是人们所熟知的BBS。通过BBS系统，能够对于社团发布的信息进行分类整合和搜集，促进学生与社团，社团与社团之间的交流，增加互动性，有利于提高宣传效率和效应。
  
技术选择

1.2.1 BS结构

   B/S结构即浏览器和服务器结构。它是随着Internet技术的兴起，对C/S结构的一种变化或者改进的结构。在这种结构下，用户工作界面是通过WWW浏览器来实现，极少部分事务逻辑在前端(Browser)实现，但是主要事务逻辑在服务器端(Server)实现，形成所谓三层3-tier结构。
   
  B/S结构（Browser/Server，浏览器/服务器模式），是WEB兴起后的一种网络结构模式，WEB浏览器是客户端最主要的应用软件。这种模式统一了客户端，将系统功能实现的核心部分集中到服务器上，简化了系统的开发、维护和使用。客户机上只要安装一个浏览器（Browser），如Netscape Navigator或Internet Explorer，服务器安装Oracle、Sybase、Informix或 SQL Server等数据库。浏览器通过Web Server同数据库进行数据交互。这样就大大简化了客户端电脑载荷，减轻了系统维护与升级的成本和工作量，降低了用户的总体成本(TCO)。
	
1.2.2 三层架构

  表示层位于最外层（最上层）离用户最近。用于显示数据和接收用户输入的数据为用户提供一种交互式操作的界面。 
  
  业务逻辑层（Business Logic Layer）无疑是系统架构中体现核心价值的部分。它的关注点主要集中在业务规则的制定、业务流程的实现等与业务需求有关的系统设计，也即是说它是与系统所应对的领域（Domain）逻辑有关，很多时候也将业务逻辑层称为领域层。
  
  业务逻辑层在体系架构中的位置很关键，它处于数据访问层与表示层中间，起到了数据交换中承上启下的作用。由于层是一种弱耦合结构，层与层之间的依赖是向下的，底层对于上层而言是“无知”的，改变上层的设计对于其调用的底层而言没有任何影响。如果在分层设计时遵循了面向接口设计的思想那么这种向下的依赖也应该是一种弱依赖关系。因而在不改变接口定义的前提下理想的分层式架构应该是一个支持可抽取、可替换的“抽屉”式架构。正因为如此业务逻辑层的设计对于一个支持可扩展的架构尤为关键因为它扮演了两个不同的角色。对于数据访问层而言它是调用者对于表示层而言它却是被调用者。依赖与被依赖的关系都纠结在业务逻辑层上如何实现依赖关系的解耦则是除了实现业务逻辑之外留给设计师的任务。
  
  数据访问层有时候也称为是持久层，其功能主要是负责数据库的访问，可以访问数据库系统、二进制文件、文本文档或是XML文档。

![BS三层架构](http://fmn.rrimg.com/fmn066/20130602/1910/original_K3L9_229c00000ae01190.gif)

1.2.3 MVC设计模式

![MVC](http://fmn.rrfmn.com/fmn058/20130602/1910/original_ldcN_6dfe000068911191.jpg)

Model部分：由JavaBean组成，ActionForm用于封装用户的请求参数，封装成ActionForm对象，该对此昂被ActionServlet转发给Action，Action根据ActionForm里面的请求参数处理用户的请求。JavaBean则封装了底层的业务逻辑，包括数据访问等。

View部分：该部分采用JSP实现。Struts提供了丰富的标签库，通过标签库可以减少脚本的使用，自定义的标签库可以实现与Model的有效交互，并增加了实现功能。

Controller组件：系统核心控制、业务逻辑控制器。系统核心控制器由Struts框架提供。业务逻辑控制器，负责处理用户请求，调用Model来完成处理。高校社团信息发布平台采用以下控制器设计方案（6个Action类）：

1.用户登录

  负责用户选择登录时页面的跳转。根据用户身份的不同跳转至普通用户或者管理员的页面。
  
2.发布信息

  负责用户操作界面的响应跳转。跳转至信息编辑界面，发表信息，或修改信息。
  
3.浏览信息

  负责用户对自己空间处理的页面跳转。分类呈现所有社团发布的活动信息。
  
4.信息审核

  负责管理员对信息审核时页面跳转。系统提示管理员，某些信息中包含敏感词汇需要审核才能发布。
  
5.信息管理  

  负责管理员管理信息时的页面跳转。实现信息的删除，移动，置顶，加亮等操作。
  
6.用户退出

  负责用户选择退出时的跳转。跳转至普通游客登录时的页面。


1.2.4数据存储层设计
   JDBC（Java Data Base Connectivity,java数据库连接）是一种用于执行SQL语句的Java API，可以为多种关系数据库提供统一访问，它由一组用Java语言编写的类和接口组成，JDBC API 支持三层模型（B/S）。
  在三层模型中，命令先是被发送到服务的"中间层"，然后由它将SQL 语句发送给数据库。数据库对 SQL 语句进行处理并将结果送回到中间层，中间层再将结果送回给用户。
	具体设计如下：
	
	1.管理员表（id，姓名，密码）；
	
	2.用户表（id，姓名，密码，邮箱地址，性别，年龄，联系方式，头像路径）；
	
	3.信息表（信息id，标题，内容，发布者id，创建时间，最后编辑时间，访问量）；
	
	4.信息操作表（信息新id，信息旧id，操作者id，操作时间，操作类型）；
	
	5.权限表（id，用户权限）；
	
	6.评论信息（用户id，信息id，评论内容，评论时间）；
	
     主要功能：数据创建、数据存储、数据查询、数据更新、数据删除、数据安全、数据备份/恢复。
     
     数据层与其他层的接口主要通过以下来实现：　　
     1)数据库方式的数据层面向业务逻辑层提供数据库访问服务接口，业务逻辑层通过JDBC协议访问数据库服务。　　2)文件方式的数据层面向业务逻辑层提供文件级的访问服务接口，业务逻辑层通过操作系统本身提供的文件访问API访问文件数据。
